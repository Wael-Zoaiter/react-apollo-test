(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{111:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),c=t(51),o=t.n(c),l=(t(67),t(16)),i=t(17),s=t(20),m=t(18),u=t(21),d=t(19),p=t(115),g=t(117),f=t(118),h=t(116),E=t(33),v=t(59),N=t(23),b=t.n(N);function w(){var e=Object(E.a)(["\n  query detaildRepo($name: String!, $owner: String!, $moreDetail: Boolean = false) {\n    repository(owner: $owner, name: $name) {\n      id\n      name\n      createdAt \n      description \n      isArchived\n      isPrivate\n      url\n      stargazers {\n        totalCount\n      }\n      forks {\n        totalCount\n      }\n      owner {\n        login\n        id\n        url\n      }\n      licenseInfo @include(if: $moreDetail) {\n        key\n      }\n      defaultBranchRef @include(if: $moreDetail) {\n        target {\n        ... on Commit {\n          history(first:10) {\n            totalCount\n            edges {\n              node {\n                ... on Commit {\n                  committedDate\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n}\n"]);return w=function(){return e},e}function y(){var e=Object(E.a)(["\nquery trendRepos($query: String!, $first: Int, $type: SearchType!, $after: String) {\n  search(query: $query, type: $type, first: $first, after: $after) {\n   repositoryCount\n   pageInfo {\n    endCursor\n    startCursor\n    hasNextPage\n   }\n   edges {\n    cursor\n    node {\n     ... on Repository {\n      id\n      name\n      createdAt \n      description\n      owner {\n       login\n       id\n       url\n      }\n     }\n    }\n   }\n  }\n }\n"]);return y=function(){return e},e}var k=localStorage.getItem("token"),O=new v.a({uri:"https://api.github.com/graphql",headers:{authorization:k?"Bearer ".concat(k):""}}),j=b()(y()),C=b()(w()),$=t(114),x=(t(76),function(e){var a=e.className||"";return r.a.createElement("div",{className:"card ".concat(a)},e.children)}),S=function(e){var a=e.className||"";return r.a.createElement("div",{className:"card-header ".concat(a)},e.children)},I=function(e){var a=e.className||"",t=e.tag||"h4";return r.a.createElement(t,{className:"card-title ".concat(a)},e.children)},P=function(e){var a=e.className||"";return r.a.createElement("p",{className:"card-text ".concat(a)},e.children)},A=function(e){var a=e.className||"";return r.a.createElement("div",{className:"card-body ".concat(a)},e.children)},q=function(e){var a=e.className||"";return r.a.createElement("div",{className:"card-footer ".concat(a)},e.children)},_=(t(78),function(e){var a=e.status||"",t=e.message||"Something went wrong";return r.a.createElement(x,{className:"error-viewer"},r.a.createElement(S,null,r.a.createElement(I,{className:"text-danger"},"Error ",a)),r.a.createElement(A,null,r.a.createElement(P,null,t),r.a.createElement($.a,{to:"/",className:"btn btn-info"},"Go to home page")))}),D=(t(82),function(e){var a=e.className||"";return r.a.createElement("div",{className:"loading-viewer ".concat(a)},r.a.createElement("div",{className:"spinner-border",role:"status"}))}),z=t(60),B=(t(84),function(e){var a=e.pagesNumber||null;return r.a.createElement("nav",{className:"pagination-viewer","aria-label":"Page navigation"},r.a.createElement("ul",{className:"pagination"},r.a.createElement("li",{className:"page-item"},r.a.createElement("span",{className:"page-link",onClick:e.prevHandler},"Previous")),a&&Object(z.a)(Array(a)).map(function(e,a){return r.a.createElement("li",{key:a,className:"page-item"},r.a.createElement("span",{className:"page-link"},a+1))}),r.a.createElement("li",{className:"page-item",onClick:e.nextHandler},r.a.createElement("span",{className:"page-link"},"Next"))))}),R=10,L=function(e){function a(){var e,t;Object(l.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(t=Object(s.a)(this,(e=Object(m.a)(a)).call.apply(e,[this].concat(r))))._nextPage=function(e){var a=parseInt(t.props.match.params.page,10);if(a<=e.search.repositoryCount/R){var n=a+1;t.props.history.push({pathname:"/page/".concat(n),state:{pageInfo:e.search.pageInfo,mode:"next"}})}},t._previousPage=function(e){parseInt(t.props.match.params.page,10)>1&&t.props.history.goBack()},t._getQueryVariables=function(){var e=t.props.location.pathname.includes("page"),a=t.props.location.state?t.props.location.state.pageInfo:{},n=t.props.location.state?t.props.location.state.mode:"",r=a.endCursor||null,c=a.endCursor||null,o={query:"stars:>10000",first:e?R:100,type:"REPOSITORY"};return r&&"next"===n&&(o.after=r),c&&"prev"===n&&(o.before=c),o},t}return Object(u.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"bg-dark"},r.a.createElement(d.Query,{query:j,variables:this._getQueryVariables()},function(a){var t=a.loading,n=a.error,c=a.data;return t||!localStorage.getItem("token")?r.a.createElement(D,null):n?r.a.createElement(_,null):r.a.createElement("div",{className:"content"},r.a.createElement(H,{data:c}),r.a.createElement(B,{nextHandler:function(){return e._nextPage(c)},prevHandler:function(){return e._previousPage()}}))}))}}]),a}(n.Component),H=function(e){return r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},e.data.search.edges.map(function(e){var a=(e=e.node).owner?e.owner.login:"";return r.a.createElement("div",{key:e.id,className:"col-12"},r.a.createElement($.a,{to:"/".concat(a,"/").concat(e.name)},r.a.createElement(x,null,r.a.createElement(S,null,a),r.a.createElement(A,null,r.a.createElement(I,null,e.name),r.a.createElement(P,null,e.description)),r.a.createElement(q,null,new Date(e.createdAt).toString()))))})))},Q=L,G=function(e){var a=e.match.params,t=a.owner,n=a.name;return r.a.createElement("div",{className:"bg-dark single-card"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-12"},r.a.createElement(d.Query,{query:C,variables:{name:n,owner:t}},function(e){var a=e.loading,t=e.error,n=e.data;if(a)return r.a.createElement(D,null);if(t)return r.a.createElement(_,null);if(!n)return r.a.createElement(_,{message:"There is no available data found"});console.log(n);var c=n.repository||{},o=c.owner?c.owner:{},l=c.stargazers&&c.stargazers.totalCount,i=c.forks&&c.forks.totalCount;return r.a.createElement(x,{key:c.id},r.a.createElement(S,null,r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-4"},r.a.createElement("a",{href:o.url},o.login," "),r.a.createElement("small",{className:"text-muted"},c.isPrivate?"Private":"Public")),r.a.createElement("div",{className:"col-4"},"stars: ",l),r.a.createElement("div",{className:"col-4"},"forks: ",i))),r.a.createElement(A,null,r.a.createElement(I,null,c.name),r.a.createElement(P,null,c.description),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-4"}),c.isArchived&&r.a.createElement("div",{className:"col-4"},"Archived"))),r.a.createElement(q,null,r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-8"},Date(c.createdAt).toString()),r.a.createElement("div",{className:"col-4"},r.a.createElement("a",{href:c.url,className:"btn btn-primary"},"Github")))))})))))},T=t(58),J=t.n(T),V="https://wael-zoaiter.github.io".concat("/react-apollo-test"),W=function(e){function a(e){var t;return Object(l.a)(this,a),(t=Object(s.a)(this,Object(m.a)(a).call(this,e))).state={isLoading:!1,token:null},t}return Object(u.a)(a,e),Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=this,a=window.location.href.match(/\?code=(.*)/)&&window.location.href.match(/\?code=(.*)/)[1];a&&(this.setState({isLoading:!0}),J.a.get("https://mygatekeeper.herokuapp.com/authenticate/".concat(a)).then(function(a){a.data.token&&localStorage.setItem("token",a.data.token),e.setState({isLoading:!1,token:a.data.token,error:a.data.error})},function(e){return console.log(e)}))}},{key:"render",value:function(){return r.a.createElement("div",{className:"authentication bg-dark"},this.state.isLoading?r.a.createElement(D,null):this.state.token?r.a.createElement(h.a,{to:"/page/1"}):r.a.createElement("a",{className:"btn btn-light",href:"https://github.com/login/oauth/authorize?client_id=".concat("53eff2996ef8cde22386","&scope=user&redirect_uri=").concat(V)},"Login with Github"))}}]),a}(n.Component),M=function(e){function a(){return Object(l.a)(this,a),Object(s.a)(this,Object(m.a)(a).apply(this,arguments))}return Object(u.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){return r.a.createElement(d.ApolloProvider,{client:O},r.a.createElement(p.a,{basename:"/react-apollo-test"},r.a.createElement(g.a,null,r.a.createElement(f.a,{exact:!0,path:"/",component:W}),r.a.createElement(f.a,{exact:!0,path:"/page/:page",component:Q}),r.a.createElement(f.a,{exact:!0,path:"/:owner/:name",component:G}),r.a.createElement(f.a,{path:"*",component:function(){return r.a.createElement(h.a,{to:"/"})}}))))}}]),a}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(M,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},62:function(e,a,t){e.exports=t(111)},67:function(e,a,t){},76:function(e,a,t){},78:function(e,a,t){},82:function(e,a,t){},84:function(e,a,t){}},[[62,2,1]]]);
//# sourceMappingURL=main.a861831f.chunk.js.map